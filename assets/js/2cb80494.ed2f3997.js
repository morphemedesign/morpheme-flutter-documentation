"use strict";(self.webpackChunkmorpheme_flutter_documentation=self.webpackChunkmorpheme_flutter_documentation||[]).push([[576],{3905:(e,t,n)=>{n.d(t,{Zo:()=>m,kt:()=>f});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var p=a.createContext({}),s=function(e){var t=a.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},m=function(e){var t=s(e.components);return a.createElement(p.Provider,{value:t},e.children)},c="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},d=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,i=e.originalType,p=e.parentName,m=o(e,["components","mdxType","originalType","parentName"]),c=s(n),d=r,f=c["".concat(p,".").concat(d)]||c[d]||u[d]||i;return n?a.createElement(f,l(l({ref:t},m),{},{components:n})):a.createElement(f,l({ref:t},m))}));function f(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=n.length,l=new Array(i);l[0]=d;var o={};for(var p in t)hasOwnProperty.call(t,p)&&(o[p]=t[p]);o.originalType=e,o[c]="string"==typeof e?e:r,l[1]=o;for(var s=2;s<i;s++)l[s]=n[s];return a.createElement.apply(null,l)}return a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},9547:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>p,contentTitle:()=>l,default:()=>c,frontMatter:()=>i,metadata:()=>o,toc:()=>s});var a=n(7462),r=(n(7294),n(3905));const i={sidebar_position:8},l="L10n (Localization)",o={unversionedId:"morpheme_cli/generate/l10n",id:"morpheme_cli/generate/l10n",title:"L10n (Localization)",description:"This command facilitates the generation of localization classes from ARB (Application Resource Bundle) files. It acts as a powerful wrapper around Flutter's gen-l10n, adding the capability to split your ARB files by feature for better maintainability.",source:"@site/docs/morpheme_cli/generate/l10n.md",sourceDirName:"morpheme_cli/generate",slug:"/morpheme_cli/generate/l10n",permalink:"/morpheme-flutter-documentation/docs/morpheme_cli/generate/l10n",draft:!1,tags:[],version:"current",sidebarPosition:8,frontMatter:{sidebar_position:8},sidebar:"mySidebars",previous:{title:"Color2Dart",permalink:"/morpheme-flutter-documentation/docs/morpheme_cli/generate/color2dart"},next:{title:"Firebase",permalink:"/morpheme-flutter-documentation/docs/morpheme_cli/generate/firebase"}},p={},s=[{value:"Features",id:"features",level:2},{value:"Configuration",id:"configuration",level:2},{value:"Directory Structure Strategies",id:"directory-structure-strategies",level:2},{value:"1. Single ARB (Basic)",id:"1-single-arb-basic",level:3},{value:"2. Split ARB (Recommended for Large Apps)",id:"2-split-arb-recommended-for-large-apps",level:3},{value:"Usage",id:"usage",level:2},{value:"Options",id:"options",level:2},{value:"Available Options",id:"available-options",level:3},{value:"VS Code Extension Tip",id:"vs-code-extension-tip",level:2}],m={toc:s};function c(e){let{components:t,...n}=e;return(0,r.kt)("wrapper",(0,a.Z)({},m,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"l10n-localization"},"L10n (Localization)"),(0,r.kt)("p",null,"This command facilitates the generation of localization classes from ARB (Application Resource Bundle) files. It acts as a powerful wrapper around Flutter's ",(0,r.kt)("inlineCode",{parentName:"p"},"gen-l10n"),", adding the capability to split your ARB files by feature for better maintainability."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"morpheme l10n\n")),(0,r.kt)("h2",{id:"features"},"Features"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Standard Generation"),": Wraps ",(0,r.kt)("inlineCode",{parentName:"li"},"flutter gen-l10n")," for standard ARB setups."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Split ARB Support"),": Allows breaking down a large monolithic ARB file into smaller, feature-specific files (e.g., ",(0,r.kt)("inlineCode",{parentName:"li"},"profile_en.arb"),", ",(0,r.kt)("inlineCode",{parentName:"li"},"home_en.arb"),") which are then merged automatically.")),(0,r.kt)("h2",{id:"configuration"},"Configuration"),(0,r.kt)("p",null,"The localization configuration is managed in ",(0,r.kt)("inlineCode",{parentName:"p"},"morpheme.yaml"),"."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-yaml",metastring:'title="morpheme.yaml"',title:'"morpheme.yaml"'},"localization:\n  arb_dir: assets/l10n                       # Directory containing ARB files\n  template_arb_file: app_en.arb              # The template ARB file (usually English)\n  output_localization_file: app_localizations.dart # Output filename\n  output_class: AppLocalizations             # Generated class name\n  output_dir: core/lib/src/l10n              # Directory for generated Dart code\n  replace: true                              # Whether to merge split ARB files into the main file\n")),(0,r.kt)("h2",{id:"directory-structure-strategies"},"Directory Structure Strategies"),(0,r.kt)("h3",{id:"1-single-arb-basic"},"1. Single ARB (Basic)"),(0,r.kt)("p",null,"Suitable for smaller applications where all translations are kept in a single file per language."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"assets/\n\u2514\u2500\u2500 l10n/\n    \u251c\u2500\u2500 app_en.arb\n    \u2514\u2500\u2500 app_id.arb\n")),(0,r.kt)("p",null,"In this mode, ",(0,r.kt)("inlineCode",{parentName:"p"},"replace")," should be set to ",(0,r.kt)("inlineCode",{parentName:"p"},"false")," (or simply not used if you don't have subdirectories)."),(0,r.kt)("h3",{id:"2-split-arb-recommended-for-large-apps"},"2. Split ARB (Recommended for Large Apps)"),(0,r.kt)("p",null,"For larger apps, you can organize translations by feature. The command will search for subdirectories matching your locale codes and merge all ARB files within them into the main ARB file."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Structure:")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"assets/\n\u2514\u2500\u2500 l10n/\n    \u251c\u2500\u2500 app_en.arb           # Generated/Merged file (Do not edit manually if replace: true)\n    \u251c\u2500\u2500 app_id.arb           # Generated/Merged file\n    \u251c\u2500\u2500 en/                  # English source files\n    \u2502   \u251c\u2500\u2500 common.arb\n    \u2502   \u251c\u2500\u2500 auth.arb\n    \u2502   \u2514\u2500\u2500 profile.arb\n    \u2514\u2500\u2500 id/                  # Indonesian source files\n        \u251c\u2500\u2500 common.arb\n        \u251c\u2500\u2500 auth.arb\n        \u2514\u2500\u2500 profile.arb\n")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"How it works:")),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Set ",(0,r.kt)("inlineCode",{parentName:"li"},"replace: true")," in ",(0,r.kt)("inlineCode",{parentName:"li"},"morpheme.yaml"),"."),(0,r.kt)("li",{parentName:"ol"},"Create a folder ",(0,r.kt)("inlineCode",{parentName:"li"},"assets/l10n/en")," and place your partial ARB files there."),(0,r.kt)("li",{parentName:"ol"},"Run ",(0,r.kt)("inlineCode",{parentName:"li"},"morpheme l10n"),"."),(0,r.kt)("li",{parentName:"ol"},"The command merges all files in ",(0,r.kt)("inlineCode",{parentName:"li"},"assets/l10n/en/*.arb")," into ",(0,r.kt)("inlineCode",{parentName:"li"},"assets/l10n/app_en.arb"),"."),(0,r.kt)("li",{parentName:"ol"},"It then runs ",(0,r.kt)("inlineCode",{parentName:"li"},"flutter gen-l10n")," to generate the Dart code.")),(0,r.kt)("admonition",{type:"caution"},(0,r.kt)("p",{parentName:"admonition"},"When using Split ARB with ",(0,r.kt)("inlineCode",{parentName:"p"},"replace: true"),", ",(0,r.kt)("strong",{parentName:"p"},"do not edit ",(0,r.kt)("inlineCode",{parentName:"strong"},"app_en.arb")," directly"),". Your changes will be overwritten by the merged content from the subdirectories. Always edit the files inside the ",(0,r.kt)("inlineCode",{parentName:"p"},"en/")," or ",(0,r.kt)("inlineCode",{parentName:"p"},"id/")," folders.")),(0,r.kt)("h2",{id:"usage"},"Usage"),(0,r.kt)("p",null,"Run the command to generate your localizations:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"morpheme l10n\n")),(0,r.kt)("h2",{id:"options"},"Options"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"morpheme l10n [options]\n")),(0,r.kt)("p",null,"To see all available options and flags, run ",(0,r.kt)("inlineCode",{parentName:"p"},"morpheme l10n --help"),"."),(0,r.kt)("h3",{id:"available-options"},"Available Options"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Option"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"--morpheme-yaml [path]")),(0,r.kt)("td",{parentName:"tr",align:null},"Path to a custom configuration file (default: ",(0,r.kt)("inlineCode",{parentName:"td"},"morpheme.yaml"),").")))),(0,r.kt)("h2",{id:"vs-code-extension-tip"},"VS Code Extension Tip"),(0,r.kt)("p",null,"For a better editing experience, we recommend the ",(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("a",{parentName:"strong",href:"https://marketplace.visualstudio.com/items?itemName=innwin.i18n-arb-editor"},"i18n-arb-editor"))," extension. It provides a UI for editing ARB files."))}c.isMDXComponent=!0}}]);