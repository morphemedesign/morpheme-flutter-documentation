"use strict";(self.webpackChunkmorpheme_flutter_documentation=self.webpackChunkmorpheme_flutter_documentation||[]).push([[6898],{3905:(e,t,a)=>{a.d(t,{Zo:()=>d,kt:()=>N});var n=a(7294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function p(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var o=n.createContext({}),m=function(e){var t=n.useContext(o),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},d=function(e){var t=m(e.components);return n.createElement(o.Provider,{value:t},e.children)},s="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},k=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,l=e.originalType,o=e.parentName,d=p(e,["components","mdxType","originalType","parentName"]),s=m(a),k=r,N=s["".concat(o,".").concat(k)]||s[k]||u[k]||l;return a?n.createElement(N,i(i({ref:t},d),{},{components:a})):n.createElement(N,i({ref:t},d))}));function N(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var l=a.length,i=new Array(l);i[0]=k;var p={};for(var o in t)hasOwnProperty.call(t,o)&&(p[o]=t[o]);p.originalType=e,p[s]="string"==typeof e?e:r,i[1]=p;for(var m=2;m<l;m++)i[m]=a[m];return n.createElement.apply(null,i)}return n.createElement.apply(null,a)}k.displayName="MDXCreateElement"},3687:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>o,contentTitle:()=>i,default:()=>s,frontMatter:()=>l,metadata:()=>p,toc:()=>m});var n=a(7462),r=(a(7294),a(3905));const l={sidebar_position:4},i="API",p={unversionedId:"morpheme_cli/generate/api",id:"morpheme_cli/generate/api",title:"API",description:"This command is used to generate the API on a page. It creates a complete API integration layer following clean architecture principles.",source:"@site/docs/morpheme_cli/generate/api.md",sourceDirName:"morpheme_cli/generate",slug:"/morpheme_cli/generate/api",permalink:"/morpheme-flutter-documentation/docs/morpheme_cli/generate/api",draft:!1,tags:[],version:"current",sidebarPosition:4,frontMatter:{sidebar_position:4},sidebar:"mySidebars",previous:{title:"Page",permalink:"/morpheme-flutter-documentation/docs/morpheme_cli/generate/page"},next:{title:"Endpoint",permalink:"/morpheme-flutter-documentation/docs/morpheme_cli/generate/endpoint"}},o={},m=[{value:"Options",id:"options",level:2},{value:"Available Options",id:"available-options",level:3},{value:"Method Options",id:"method-options",level:3},{value:"Return Data Options",id:"return-data-options",level:3},{value:"Cache Strategy Options",id:"cache-strategy-options",level:3},{value:"Examples",id:"examples",level:2}],d={toc:m};function s(e){let{components:t,...a}=e;return(0,r.kt)("wrapper",(0,n.Z)({},d,a,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"api"},"API"),(0,r.kt)("p",null,"This command is used to generate the API on a page. It creates a complete API integration layer following clean architecture principles."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"morpheme api [api_name] -p [page_name] -f [feature_name]\n")),(0,r.kt)("h2",{id:"options"},"Options"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"morpheme api [api_name] [options]\n")),(0,r.kt)("p",null,"To see all available options and flags, run ",(0,r.kt)("inlineCode",{parentName:"p"},"morpheme api --help"),"."),(0,r.kt)("h3",{id:"available-options"},"Available Options"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Option"),(0,r.kt)("th",{parentName:"tr",align:null},"Abbr"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"),(0,r.kt)("th",{parentName:"tr",align:null},"Default"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"--feature-name")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"-f")),(0,r.kt)("td",{parentName:"tr",align:null},"Name of the feature to be added api (Mandatory)"),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"--page-name")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"-p")),(0,r.kt)("td",{parentName:"tr",align:null},"Name of the page to be added api (Mandatory)"),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"--method")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"-m")),(0,r.kt)("td",{parentName:"tr",align:null},"HTTP method for the API (get, post, put, patch, delete, multipart, etc.)"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"post"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"--path")),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null},"Custom path for the API endpoint"),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"--return-data")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"-r")),(0,r.kt)("td",{parentName:"tr",align:null},"Type of data to return (model, header, body_bytes, raw, etc.)"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"model"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"--body-list")),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null},"Set if the request body is a list"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"false"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"--response-list")),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null},"Set if the response body is a list"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"false"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"--json2dart")),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null},"Generate models handled by json2dart"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"false"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"--header")),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null},"Path to JSON file for additional headers"),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"--cache-strategy")),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null},"Strategy for caching API response"),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"--ttl")),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null},"Cache duration in minutes"),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"--keep-expired-cache")),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null},"Keep cache even if expired"),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"--apps-name")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"-a")),(0,r.kt)("td",{parentName:"tr",align:null},"Generate for specific apps (Optional)"),(0,r.kt)("td",{parentName:"tr",align:null})))),(0,r.kt)("h3",{id:"method-options"},"Method Options"),(0,r.kt)("p",null,"Values for ",(0,r.kt)("inlineCode",{parentName:"p"},"-m"),": ",(0,r.kt)("inlineCode",{parentName:"p"},"get"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"post"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"put"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"patch"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"delete"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"multipart"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"postMultipart"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"patchMultipart"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"head"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"getSse"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"postSse"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"putSse"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"patchSse"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"deleteSse"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"download"),"."),(0,r.kt)("h3",{id:"return-data-options"},"Return Data Options"),(0,r.kt)("p",null,"Values for ",(0,r.kt)("inlineCode",{parentName:"p"},"-r"),": ",(0,r.kt)("inlineCode",{parentName:"p"},"model"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"header"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"body_bytes"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"body_string"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"status_code"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"raw"),"."),(0,r.kt)("h3",{id:"cache-strategy-options"},"Cache Strategy Options"),(0,r.kt)("p",null,"Values for ",(0,r.kt)("inlineCode",{parentName:"p"},"--cache-strategy"),": ",(0,r.kt)("inlineCode",{parentName:"p"},"async_or_cache"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"cache_or_async"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"just_async"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"just_cache"),"."),(0,r.kt)("h2",{id:"examples"},"Examples"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Basic Usage:"),"\nGenerate a ",(0,r.kt)("inlineCode",{parentName:"p"},"get_users")," API for the ",(0,r.kt)("inlineCode",{parentName:"p"},"users")," page in the ",(0,r.kt)("inlineCode",{parentName:"p"},"master")," feature."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"morpheme api get_users -p users -f master -m get\n")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"With Response List:"),"\nGenerate an API where the response is a list of objects."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"morpheme api get_products -p products -f shop -m get --response-list\n")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"With Caching:"),"\nGenerate an API with caching strategy and TTL."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"morpheme api get_profile -p profile -f user -m get --cache-strategy async_or_cache --ttl 60\n")),(0,r.kt)("admonition",{type:"info"},(0,r.kt)("p",{parentName:"admonition"},(0,r.kt)("strong",{parentName:"p"},"Generated Artifacts:")),(0,r.kt)("ul",{parentName:"admonition"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Models"),": Request/Response models"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Entities"),": Domain entities"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Datasource"),": Remote data source definition and implementation"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Repositories"),": Repository interface and implementation"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"UseCase"),": Domain use case"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"BLoC"),": Integration into the page's BLoC/Cubit"))),(0,r.kt)("admonition",{type:"tip"},(0,r.kt)("p",{parentName:"admonition"},"Use the ",(0,r.kt)("strong",{parentName:"p"},"json2dart")," feature for more powerful model generation.\nCheck the link: ",(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("a",{parentName:"strong",href:"./json2dart"},"Json2Dart")))),(0,r.kt)("admonition",{type:"caution"},(0,r.kt)("p",{parentName:"admonition"},"API generation will fail if:"),(0,r.kt)("ul",{parentName:"admonition"},(0,r.kt)("li",{parentName:"ul"},"Although the command creates files, the Feature or Page must exist beforehand logic-wise (created via ",(0,r.kt)("inlineCode",{parentName:"li"},"morpheme feature")," or ",(0,r.kt)("inlineCode",{parentName:"li"},"morpheme page"),")."),(0,r.kt)("li",{parentName:"ul"},"The API name already exists in the target page."))))}s.isMDXComponent=!0}}]);