"use strict";(self.webpackChunkmorpheme_flutter_documentation=self.webpackChunkmorpheme_flutter_documentation||[]).push([[1980],{3905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>y});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var l=a.createContext({}),d=function(e){var t=a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):s(s({},t),e)),n},p=function(e){var t=d(e.components);return a.createElement(l.Provider,{value:t},e.children)},m="mdxType",c={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},u=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,o=e.originalType,l=e.parentName,p=i(e,["components","mdxType","originalType","parentName"]),m=d(n),u=r,y=m["".concat(l,".").concat(u)]||m[u]||c[u]||o;return n?a.createElement(y,s(s({ref:t},p),{},{components:n})):a.createElement(y,s({ref:t},p))}));function y(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=n.length,s=new Array(o);s[0]=u;var i={};for(var l in t)hasOwnProperty.call(t,l)&&(i[l]=t[l]);i.originalType=e,i[m]="string"==typeof e?e:r,s[1]=i;for(var d=2;d<o;d++)s[d]=n[d];return a.createElement.apply(null,s)}return a.createElement.apply(null,n)}u.displayName="MDXCreateElement"},5372:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>s,default:()=>m,frontMatter:()=>o,metadata:()=>i,toc:()=>d});var a=n(7462),r=(n(7294),n(3905));const o={sidebar_position:17},s="Json2Dart",i={unversionedId:"starter_kit/json2dart",id:"starter_kit/json2dart",title:"Json2Dart",description:"This command is used to generate the API based on the configuration json file in the json2dart/json2dart.yaml file",source:"@site/docs/starter_kit/json2dart.md",sourceDirName:"starter_kit",slug:"/starter_kit/json2dart",permalink:"/morpheme-flutter-documentation/docs/starter_kit/json2dart",draft:!1,tags:[],version:"current",sidebarPosition:17,frontMatter:{sidebar_position:17},sidebar:"mySidebars",previous:{title:"Refresh Token",permalink:"/morpheme-flutter-documentation/docs/starter_kit/refresh_token"},next:{title:"Coverage",permalink:"/morpheme-flutter-documentation/docs/starter_kit/coverage"}},l={},d=[],p={toc:d};function m(e){let{components:t,...o}=e;return(0,r.kt)("wrapper",(0,a.Z)({},p,o,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"json2dart"},"Json2Dart"),(0,r.kt)("p",null,"This command is used to generate the API based on the configuration json file in the ",(0,r.kt)("inlineCode",{parentName:"p"},"json2dart/json2dart.yaml")," file"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"morpheme json2dart\n")),(0,r.kt)("admonition",{type:"info"},(0,r.kt)("p",{parentName:"admonition"},"The generated API will be available according to the features and pages that we configure.")),(0,r.kt)("admonition",{title:"json2dart.yaml Configuration",type:"note"},(0,r.kt)("p",{parentName:"admonition"},"To add API we have to add this following line:"),(0,r.kt)("pre",{parentName:"admonition"},(0,r.kt)("code",{parentName:"pre",className:"language-yaml",metastring:'title="json2dart/json2dart.yaml"',title:'"json2dart/json2dart.yaml"'},"feature_name:\n    page_name:\n        api_name:\n            base_url: base_url\n            path: endpoint_name\n            method: your_api_method\n            body: url_file_body_json\n            response: url_file_response_json\n            header: url_file_hearder_json // optional\n            cache_stategy: cache_stategy // optional\n")),(0,r.kt)("p",{parentName:"admonition"},"Cache Strategy :"),(0,r.kt)("p",{parentName:"admonition"},"Inside json2dart.yaml there are ",(0,r.kt)("inlineCode",{parentName:"p"},"cache_strategy")," allow additions: ",(0,r.kt)("inlineCode",{parentName:"p"},"async_or_cache"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"cache_or_async"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"just_async"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"just_cache"),". by default set to ",(0,r.kt)("inlineCode",{parentName:"p"},"just_async"),"."),(0,r.kt)("ul",{parentName:"admonition"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"async_or_cache")," : strategy to fetch the api first and cache the response. if fetch fails it will return data from cache."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"cache_or_async")," : strategy if there is data in the cache and it is not expired then it will return data from the cache first. otherwise it will fetch api and responsen will be cached."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"just_async")," : a strategy that only fetches the api to get the data."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"just_cache")," : a strategy that only gets data from cache.")),(0,r.kt)("pre",{parentName:"admonition"},(0,r.kt)("code",{parentName:"pre",className:"language-yaml",metastring:'title="Simple Implementation"',title:'"Simple','Implementation"':!0},"cache_strategy: async_or_cache\n")),(0,r.kt)("pre",{parentName:"admonition"},(0,r.kt)("code",{parentName:"pre",className:"language-yaml",metastring:'title="Detail Implementation"',title:'"Detail','Implementation"':!0},"cache_strategy: \n  strategy: async_or_cache\n  ttl: 60 #in Minutes\n  keep_expired_cache: true \n")),(0,r.kt)("p",{parentName:"admonition"},"Extra notes:"),(0,r.kt)("ul",{parentName:"admonition"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"We can add more than one api on a page.")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Allowed methods: get, post, put, patch, delete & multipart.")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Options : (We need to add this manually)"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-yaml",metastring:'title="json2dart/json2dart.yaml"',title:'"json2dart/json2dart.yaml"'},"  ...\n  json2dart:\n      body_format_date_time: yyyy-MM-dd // default is .toIso8601String()\n      response_format_date_time: yyyy-MM-dd HH:mm // default is .toIso8601String()\n      api: true // default is true\n      endpoint: true // default is true\n      unit-test: false // default is false\n      replace: false // default is false\n  ...\n"))))),(0,r.kt)("p",null,"For example, we will add the delete user API to page users in the master feature using json2dart, here are the steps:"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},'Add json files for "response" and "body" API, response json files in ',(0,r.kt)("inlineCode",{parentName:"p"},"json2dart/json/response/"),", for body json files ",(0,r.kt)("inlineCode",{parentName:"p"},"json2dart/json/body/")),(0,r.kt)("p",{parentName:"li"},(0,r.kt)("img",{alt:"File generated",src:n(8252).Z,width:"472",height:"289"})),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-json",metastring:'title="json2dart/json/body/delete_user_body.json"',title:'"json2dart/json/body/delete_user_body.json"'},'{\n    "id_user":"id_user"\n}\n')),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-json",metastring:'title="json2dart/json/response/delete_user_response.json"',title:'"json2dart/json/response/delete_user_response.json"'},"{}\n"))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Add the delete_user API configuration to the ",(0,r.kt)("inlineCode",{parentName:"p"},"json2dart/json2dart.yaml")," file"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-yaml",metastring:'title="json2dart/json2dart.yaml"',title:'"json2dart/json2dart.yaml"'},"json2dart:\n    body_format_date_time: yyyy-MM-dd\n    response_format_date_time: yyyy-MM-dd HH:mm\n    api: true\n    endpoint: true\n    unit-test: false\n    replace: false\n\n    environment_url:\n        - &base_url BASE_URL\n\n    remote:\n        .login: &login\n            base_url: *base_url\n            path: /login\n            method: post\n            # header: json2dart/json/header/login_header.json\n            body: json2dart/json/body/login_body.json\n            response: json2dart/json/response/login_response.json\n            cache_strategy: async_or_cache\n        .register: &register\n            base_url: *base_url\n            path: /register\n            method: post\n            # header: json2dart/json/header/register_header.json\n            body: json2dart/json/body/register_body.json\n            response: json2dart/json/response/register_response.json\n            cache_strategy:\n                strategy: cache_or_async\n                ttl: 60\n        .forgot_password: &forgot_password\n            base_url: *base_url\n            path: /forgot_password\n            method: get\n            # header: json2dart/json/header/forgot_password_header.json\n            body: json2dart/json/body/forgot_password_body.json\n            response: json2dart/json/response/forgot_password_response.json\n            cache_strategy:\n                strategy: just_cache\n                ttl: 120\n                keep_expired_cache: true\n        # Add delete user\n        delete_user: # api-name\n            base_url: *base_url\n            path: /delete_user\n            method: delete\n            body: json2dart/json/body/delete_user_body.json\n            response: json2dart/json/response/delete_user_response.json\n            cache_strategy: just_async\nauth:\n    login:\n        login: *login\n    register:\n        register: *register\n    forgot_password:\n        forgot_password: *forgot_password\n# Add delete user\nmaster:\n    users:\n        delete_user: *delete_user\n"))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Generate API with this command"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"morpheme json2dart\n")),(0,r.kt)("p",{parentName:"li"},"The delete user API is automatically added to page users in the feature master, after that we need to add the BLoC to our Cubit."))))}m.isMDXComponent=!0},8252:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/body_response-9c66c840ea03db7738f12c76c21d8504.png"}}]);