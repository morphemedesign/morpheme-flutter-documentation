"use strict";(self.webpackChunkmorpheme_flutter_documentation=self.webpackChunkmorpheme_flutter_documentation||[]).push([[925],{3905:(e,t,a)=>{a.d(t,{Zo:()=>d,kt:()=>h});var n=a(7294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function l(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function i(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var s=n.createContext({}),p=function(e){var t=n.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):l(l({},t),e)),a},d=function(e){var t=p(e.components);return n.createElement(s.Provider,{value:t},e.children)},m="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},c=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,o=e.originalType,s=e.parentName,d=i(e,["components","mdxType","originalType","parentName"]),m=p(a),c=r,h=m["".concat(s,".").concat(c)]||m[c]||u[c]||o;return a?n.createElement(h,l(l({ref:t},d),{},{components:a})):n.createElement(h,l({ref:t},d))}));function h(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=a.length,l=new Array(o);l[0]=c;var i={};for(var s in t)hasOwnProperty.call(t,s)&&(i[s]=t[s]);i.originalType=e,i[m]="string"==typeof e?e:r,l[1]=i;for(var p=2;p<o;p++)l[p]=a[p];return n.createElement.apply(null,l)}return n.createElement.apply(null,a)}c.displayName="MDXCreateElement"},9129:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>s,contentTitle:()=>l,default:()=>m,frontMatter:()=>o,metadata:()=>i,toc:()=>p});var n=a(7462),r=(a(7294),a(3905));const o={sidebar_position:5},l="Json2Dart",i={unversionedId:"morpheme_cli/generate/json2dart",id:"morpheme_cli/generate/json2dart",title:"Json2Dart",description:"This command is used to generate the API based on the configuration json file in the json2dart/json2dart.yaml file",source:"@site/docs/morpheme_cli/generate/json2dart.md",sourceDirName:"morpheme_cli/generate",slug:"/morpheme_cli/generate/json2dart",permalink:"/morpheme-flutter-documentation/docs/morpheme_cli/generate/json2dart",draft:!1,tags:[],version:"current",sidebarPosition:5,frontMatter:{sidebar_position:5},sidebar:"mySidebars",previous:{title:"API",permalink:"/morpheme-flutter-documentation/docs/morpheme_cli/generate/api"},next:{title:"Endpoint",permalink:"/morpheme-flutter-documentation/docs/morpheme_cli/generate/endpoint"}},s={},p=[{value:"Options",id:"options",level:2},{value:"Available Options",id:"available-options",level:3}],d={toc:p};function m(e){let{components:t,...o}=e;return(0,r.kt)("wrapper",(0,n.Z)({},d,o,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"json2dart"},"Json2Dart"),(0,r.kt)("p",null,"This command is used to generate the API based on the configuration json file in the ",(0,r.kt)("inlineCode",{parentName:"p"},"json2dart/json2dart.yaml")," file"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"morpheme json2dart\n")),(0,r.kt)("admonition",{type:"info"},(0,r.kt)("p",{parentName:"admonition"},"The generated API will be available according to the features and pages that we configure.")),(0,r.kt)("admonition",{title:"json2dart.yaml Configuration",type:"note"},(0,r.kt)("p",{parentName:"admonition"},"To add API we have to add this following line:"),(0,r.kt)("pre",{parentName:"admonition"},(0,r.kt)("code",{parentName:"pre",className:"language-yaml",metastring:'title="json2dart/json2dart.yaml"',title:'"json2dart/json2dart.yaml"'},"feature_name:\n    page_name:\n        api_name:\n            base_url: base_url\n            path: endpoint_name\n            method: your_api_method\n            body: url_file_body_json\n            response: url_file_response_json\n            header: url_file_hearder_json // optional\n            cache_stategy: cache_stategy // optional\n")),(0,r.kt)("p",{parentName:"admonition"},"Cache Strategy :"),(0,r.kt)("p",{parentName:"admonition"},"Inside json2dart.yaml there are ",(0,r.kt)("inlineCode",{parentName:"p"},"cache_strategy")," allow additions: ",(0,r.kt)("inlineCode",{parentName:"p"},"async_or_cache"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"cache_or_async"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"just_async"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"just_cache"),". by default set to ",(0,r.kt)("inlineCode",{parentName:"p"},"just_async"),"."),(0,r.kt)("ul",{parentName:"admonition"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"async_or_cache")," : strategy to fetch the api first and cache the response. if fetch fails it will return data from cache."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"cache_or_async")," : strategy if there is data in the cache and it is not expired then it will return data from the cache first. otherwise it will fetch api and responsen will be cached."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"just_async")," : a strategy that only fetches the api to get the data."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"just_cache")," : a strategy that only gets data from cache.")),(0,r.kt)("pre",{parentName:"admonition"},(0,r.kt)("code",{parentName:"pre",className:"language-yaml",metastring:'title="Simple Implementation"',title:'"Simple','Implementation"':!0},"cache_strategy: async_or_cache\n")),(0,r.kt)("pre",{parentName:"admonition"},(0,r.kt)("code",{parentName:"pre",className:"language-yaml",metastring:'title="Detail Implementation"',title:'"Detail','Implementation"':!0},"cache_strategy: \n  strategy: async_or_cache\n  ttl: 60 #in Minutes\n  keep_expired_cache: true \n")),(0,r.kt)("p",{parentName:"admonition"},"Extra notes:"),(0,r.kt)("ul",{parentName:"admonition"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"We can add more than one api on a page.")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Allowed methods: get, post, put, patch, delete & multipart.")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Options : (We need to add this manually)"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-yaml",metastring:'title="json2dart/json2dart.yaml"',title:'"json2dart/json2dart.yaml"'},"  ...\n  json2dart:\n      body_format_date_time: yyyy-MM-dd // default is .toIso8601String()\n      response_format_date_time: yyyy-MM-dd HH:mm // default is .toIso8601String()\n      api: true // default is true\n      endpoint: true // default is true\n      unit-test: false // default is false\n      replace: false // default is false\n  ...\n"))))),(0,r.kt)("p",null,"For example, we will add the delete user API to page users in the master feature using json2dart, here are the steps:"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},'Add json files for "response" and "body" API, response json files in ',(0,r.kt)("inlineCode",{parentName:"p"},"json2dart/json/response/"),", for body json files ",(0,r.kt)("inlineCode",{parentName:"p"},"json2dart/json/body/")),(0,r.kt)("p",{parentName:"li"},(0,r.kt)("img",{alt:"File generated",src:a(8252).Z,width:"472",height:"289"})),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-json",metastring:'title="json2dart/json/body/delete_user_body.json"',title:'"json2dart/json/body/delete_user_body.json"'},'{\n    "id_user":"id_user"\n}\n')),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-json",metastring:'title="json2dart/json/response/delete_user_response.json"',title:'"json2dart/json/response/delete_user_response.json"'},"{}\n"))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Add the delete_user API configuration to the ",(0,r.kt)("inlineCode",{parentName:"p"},"json2dart/json2dart.yaml")," file"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-yaml",metastring:'title="json2dart/json2dart.yaml"',title:'"json2dart/json2dart.yaml"'},"json2dart:\n    body_format_date_time: yyyy-MM-dd\n    response_format_date_time: yyyy-MM-dd HH:mm\n    api: true\n    endpoint: true\n    unit-test: false\n    replace: false\n\n    environment_url:\n        - &base_url BASE_URL\n\n    remote:\n        .login: &login\n            base_url: *base_url\n            path: /login\n            method: post\n            # header: json2dart/json/header/login_header.json\n            body: json2dart/json/body/login_body.json\n            response: json2dart/json/response/login_response.json\n            cache_strategy: async_or_cache\n        .register: &register\n            base_url: *base_url\n            path: /register\n            method: post\n            # header: json2dart/json/header/register_header.json\n            body: json2dart/json/body/register_body.json\n            response: json2dart/json/response/register_response.json\n            cache_strategy:\n                strategy: cache_or_async\n                ttl: 60\n        .forgot_password: &forgot_password\n            base_url: *base_url\n            path: /forgot_password\n            method: get\n            # header: json2dart/json/header/forgot_password_header.json\n            body: json2dart/json/body/forgot_password_body.json\n            response: json2dart/json/response/forgot_password_response.json\n            cache_strategy:\n                strategy: just_cache\n                ttl: 120\n                keep_expired_cache: true\n        # Add delete user\n        delete_user: # api-name\n            base_url: *base_url\n            path: /delete_user\n            method: delete\n            body: json2dart/json/body/delete_user_body.json\n            response: json2dart/json/response/delete_user_response.json\n            cache_strategy: just_async\nauth:\n    login:\n        login: *login\n    register:\n        register: *register\n    forgot_password:\n        forgot_password: *forgot_password\n# Add delete user\nmaster:\n    users:\n        delete_user: *delete_user\n"))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Generate API with this command"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"morpheme json2dart\n")),(0,r.kt)("p",{parentName:"li"},"The delete user API is automatically added to page users in the feature master, after that we need to add the BLoC to our Cubit."))),(0,r.kt)("h2",{id:"options"},"Options"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"morpheme json2dart [arguments]\n")),(0,r.kt)("p",null,"To see all available options and flags, run ",(0,r.kt)("inlineCode",{parentName:"p"},"morpheme json2dart --help"),"."),(0,r.kt)("h3",{id:"available-options"},"Available Options"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Custom Morpheme Yaml :")),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Custom Morpheme Yaml"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"--morpheme-yaml [path_file]")),(0,r.kt)("td",{parentName:"tr",align:null},"This command is used to select yaml config the application in a specific file, by default it will run the ",(0,r.kt)("inlineCode",{parentName:"td"},"morpheme.yaml")," file.")))),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Specific Apps Name :  ")),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Apps Name"),(0,r.kt)("th",{parentName:"tr",align:null},"Alternative"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"-a [apps-name]")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"--apps-name [apps-name]")),(0,r.kt)("td",{parentName:"tr",align:null},"Generate spesific apps (Optional)")))),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Specific Feature :  ")),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Specific Feature"),(0,r.kt)("th",{parentName:"tr",align:null},"Alternative"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"-f [feature-name]")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"--feature-name [feature-name]")),(0,r.kt)("td",{parentName:"tr",align:null},"Generate json2dart spesific feature which has been registered in ",(0,r.kt)("inlineCode",{parentName:"td"},"json2dart/json2dart.yaml"))))),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Specific Page :  ")),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Specific Page"),(0,r.kt)("th",{parentName:"tr",align:null},"Alternative"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"-p [page-name]")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"--page-name [page-name]")),(0,r.kt)("td",{parentName:"tr",align:null},"Generate json2dart spesific page which has been registered in ",(0,r.kt)("inlineCode",{parentName:"td"},"json2dart/json2dart.yaml")," must include ",(0,r.kt)("inlineCode",{parentName:"td"},"--feature-name")," option")))),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Flags :")),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"App Version"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"--[no-]api")),(0,r.kt)("td",{parentName:"tr",align:null},"Set generated models with implement api. (defaults to on)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"--[no-]unit-test")),(0,r.kt)("td",{parentName:"tr",align:null},"Generate unit test for api implementation. (defaults to off)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"--[no-]endpoint")),(0,r.kt)("td",{parentName:"tr",align:null},"Generate endpoint from path json2dart.yaml. (defaults to on)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"--[no-]replace")),(0,r.kt)("td",{parentName:"tr",align:null},"Replace value generated. if set to false will be delete all directory generated json2dart before. (defaults to off)")))))}m.isMDXComponent=!0},8252:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/body_response-9c66c840ea03db7738f12c76c21d8504.png"}}]);